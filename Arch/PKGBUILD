pkgname="CustomPlayer"
pkgver="0.3-1"
pkgrel=1
pkgdesc="CustomPlayer is a player aimed at convenience and configurability, written in Qt 6. "
arch=("x86_64")
license=('GPL3')
url="https://github.com/Mykhail024/CustomPlayer"
depends=("qt6-base" "pipewire")
makedepends=("cmake" "make" "libpipewire" "taglib" "libsndfile")

source=("https://github.com/Mykhail024/CustomPlayer/archive/refs/tags/v${pkgver}.tar.gz")
sha512sums=("5c7c70db0bfd69f1bc15c0c1a6b1d24a2e78dd428b23a191099ecd6c33659e98fb3da3962d04f98380ab7d30cbfbb1a9e2fe200059b44c2472abc7da7dd04308")

prepare() {
  mkdir -p "$pkgname-$pkgver/build"
  cd "$pkgname-$pkgver/build"
  cmake ".." \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release
}

build() {
  cd "$pkgname-$pkgver/build"
  make -j2
}

package() {
  cd "$pkgname-$pkgver/build"
  make DESTDIR="${pkgdir}" install
}
